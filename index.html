<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Tendo</title>
</head>
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
	<script src="js/pixi.min.js"></script>
<body>
	
	<div class="container">
		
		<script>
			
			var app = new PIXI.Application({ transparent: true });
			document.body.appendChild(app.view);
			app.renderer.view.style.display = "block";
			app.renderer.view.style.margin = "auto";
			app.renderer.autoResize = true;
			app.renderer.resize(window.innerWidth, window.innerHeight);
		

			// Video
		
			var texture = new PIXI.Texture.from('EscherStar3D.mp4');
			var source = texture.baseTexture.source;
			source.play();
			
			var videoSprite = new PIXI.Sprite(texture);

			videoSprite.width = app.screen.width * 0.7;
			videoSprite.height = videoSprite.width * 0.5625;
			
			// Circle
			
			var circle = new PIXI.Graphics();
			
			circle.lineStyle(0); // draw a circle, set the lineStyle to zero so the circle doesn't have an outline
			circle.beginFill(0xDE3249, 1);
			circle.drawCircle(0, 0, videoSprite.height/2 * 0.8);
			circle.endFill();
			
			videoSprite.mask = circle;
			
			// Text
			
			var stlF = new PIXI.TextStyle({
				fontFamily: 'Arial',
				fontSize: videoSprite.height  / 5,
				fontWeight: 'bold',
				fill: 'black',
			});
			
			var stlS = new PIXI.TextStyle({
				fontFamily: 'Arial',
				fontSize: videoSprite.height  / 5,
				fontWeight: 'bold',
				fill: 'transparent',
				stroke: 'black',
				strokeThickness: 1,
			});
			
			var richText = new PIXI.Text('HEADER', stlF);
			var richText2 = new PIXI.Text('HEADER', stlS);
			var line2f = new PIXI.Text('TITLE', stlF);
			var line2s = new PIXI.Text('TITLE', stlS);
			var line5f = new PIXI.Text('SUBTITLE', stlF);
			var line5s = new PIXI.Text('SUBTITLE', stlS);
			var line3f = new PIXI.Text('LOREM', stlF);
			var line3s = new PIXI.Text('LOREM', stlS);
			var line4f = new PIXI.Text('IPSUM', stlF);
			var line4s = new PIXI.Text('IPSUM', stlS);
			
			richText2.anchor.set(1,0);
			line2f.anchor.set(1,0);
			line3s.anchor.set(1,0);
			line4f.anchor.set(1,0);
			line5s.anchor.set(1,0);
			
			//get mouse position
			var getMousePosition = () =>
			{
				return app.renderer.plugins.interaction.mouse.global
			};
			
			//rotation
			app.ticker.add(() => {
				mousePosition = getMousePosition();
				let dx = mousePosition.x - app.screen.width / 2 ;
				let dy = mousePosition.y - app.screen.height / 2 ;
				videoSprite.x = - dx * 0.01 + app.screen.width / 2 - videoSprite.width / 2;
				videoSprite.y = - dy * 0.01 + app.screen.height / 2 - videoSprite.height / 2;
				circle.x = dx * 0.005 + app.screen.width / 2;
				circle.y = dy * 0.005 + app.screen.height / 2;
				richText2.x = - dx * 0.01 + app.screen.width / 2 + videoSprite.width / 2;
				richText2.y = - dy * 0.01 + app.screen.height / 2 - videoSprite.height / 2;
				richText.x = dx * 0.01 + app.screen.width / 2 - videoSprite.width / 2;
				richText.y = dy * 0.01 + app.screen.height / 2 - videoSprite.height / 2;
				
				line2f.x = dx * 0.01 + app.screen.width / 2 + videoSprite.width / 2;
				line2f.y = dy * 0.01 + app.screen.height / 2 - videoSprite.height / 2 + videoSprite.height / 5;
				line2s.x = - dx * 0.01 + app.screen.width / 2 - videoSprite.width / 2;
				line2s.y = - dy * 0.01 + app.screen.height / 2 - videoSprite.height / 2 + videoSprite.height / 5;
				
				line3s.x = - dx * 0.01 + app.screen.width / 2 + videoSprite.width / 2;
				line3s.y = - dy * 0.01 + app.screen.height / 2 - videoSprite.height / 2 + videoSprite.height / 5 * 2;
				line3f.x = dx * 0.01 + app.screen.width / 2 - videoSprite.width / 2;
				line3f.y = dy * 0.01 + app.screen.height / 2 - videoSprite.height / 2 + videoSprite.height / 5 * 2;
				
				line4f.x = dx * 0.01 + app.screen.width / 2 + videoSprite.width / 2;
				line4f.y = dy * 0.01 + app.screen.height / 2 - videoSprite.height / 2 + videoSprite.height / 5 * 3;
				line4s.x = - dx * 0.01 + app.screen.width / 2 - videoSprite.width / 2;
				line4s.y = - dy * 0.01 + app.screen.height / 2 - videoSprite.height / 2 + videoSprite.height / 5 * 3;
				
				line5s.x = - dx * 0.01 + app.screen.width / 2 + videoSprite.width / 2;
				line5s.y = - dy * 0.01 + app.screen.height / 2 - videoSprite.height / 2 + videoSprite.height / 5 * 4;
				line5f.x = dx * 0.01 + app.screen.width / 2 - videoSprite.width / 2;
				line5f.y = dy * 0.01 + app.screen.height / 2 - videoSprite.height / 2 + videoSprite.height / 5 * 4;
			});
			
			app.stage.addChild(richText2);
			app.stage.addChild(line2s);
			app.stage.addChild(line3s);
			app.stage.addChild(line4s);
			app.stage.addChild(line5s);
			app.stage.addChild(videoSprite);
			app.stage.addChild(circle);
			app.stage.addChild(richText);
			app.stage.addChild(line2f);
			app.stage.addChild(line3f);
			app.stage.addChild(line4f);
			app.stage.addChild(line5f);
			
		</script>
		
	</div>
	
	<div style="padding: 35px;">
	
		Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse malesuada a diam in dictum. In hac habitasse platea dictumst. Fusce laoreet et sem eget ultricies. Duis et quam in arcu congue sollicitudin. Nulla facilisi. Suspendisse sapien quam, sollicitudin non mattis id, posuere at nisl. Morbi consequat scelerisque mauris, et ultricies diam faucibus in. In congue vulputate viverra. Aenean mollis cursus leo sit amet venenatis. Integer non tellus ac urna porttitor tincidunt. In at nibh ac nulla ultrices convallis sit amet quis turpis. Vivamus tellus velit, pharetra sed imperdiet ut, laoreet in mauris. In vestibulum mi nunc. Nam consectetur nulla nec dui tincidunt tempor. Aliquam pharetra tincidunt nibh, vel imperdiet diam eleifend vel.

		Duis lobortis metus ut malesuada pulvinar. Donec ut tellus magna. Proin luctus lorem sed accumsan consequat. Quisque et lacus id nisi interdum semper eu non odio. Ut nec turpis quis eros pharetra bibendum et ut purus. Nullam viverra ipsum quis augue commodo pharetra. Nulla vestibulum eget augue id fringilla. Integer in suscipit est, sit amet maximus augue. Fusce nec vulputate urna, eget sodales mi. Vestibulum consectetur, nulla sit amet lobortis elementum, lectus metus ornare enim, vel suscipit felis sapien sit amet enim. Fusce rutrum lobortis lorem, id aliquet ipsum maximus eget. Proin at est sit amet ex bibendum feugiat eget vitae lectus. Donec ultrices blandit hendrerit. Duis in turpis nisi.
	
	</div>
	
</body>
</html>
